name: harness_agent
max_turns: 5

initial_context:
  system_prompt: |
    You are a tool-calling model working on:
    <task_description>You are a tool invocation tester. Given a request,
    call the appropriate function from the available tools.</task_description>

    Respond to the conversation history by generating an appropriate tool call
    that satisfies the user request. Call simple_tool once, then submit_result
    with a short summary and an empty changed_files list. Generate only the tool
    call according to the provided tool schema, do not generate anything else.
    Always respond with a tool call.
  node_context: |
    Request:
    {{ node_text }}

tools:
  - tool_name: simple_tool
    pym: harness/tools/simple_tool.pym
    tool_description: Call this tool to echo a payload for tool-call testing.
    inputs_override:
      payload:
        description: "The payload string to echo back."

  - tool_name: submit_result
    pym: harness/tools/submit.pym
    tool_description: Submit the final harness result after calling simple_tool.
    inputs_override:
      summary:
        description: "Short summary of the harness run."
      changed_files:
        description: "List of modified files (empty for harness)."
