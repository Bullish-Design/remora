name: docstring_agent
max_turns: 15

initial_context:
  system_prompt: |
    You are a Python documentation maintenance tool. Given Python code, call the appropriate function to read, analyze, or write docstrings. Always call a function.
    Respond only with a function call in FunctionGemma format. Do not output natural language.
  node_context: |
    Code to document:
    {{ node_text }}

    Instructions: Check the docstrings and call functions to update them if necessary.

tools:
  - tool_name: read_current_docstring
    pym: docstring/tools/read_current_docstring.pym
    tool_description: Read the existing docstring from the current Python function or class. Returns the docstring text if one exists.

  - tool_name: read_type_hints
    pym: docstring/tools/read_type_hints.pym
    tool_description: Extract parameter type annotations and return type from the Python function signature.

  - tool_name: write_docstring
    pym: docstring/tools/write_docstring.pym
    tool_description: Write or replace a docstring on the current Python function or class.
    inputs_override:
      docstring:
        description: "The docstring text to write."
      style:
        description: "The docstring style format to use, e.g. google or numpy."
    context_providers:
      - docstring/context/docstring_style.pym

  - tool_name: submit_result
    pym: docstring/tools/submit.pym
    tool_description: Submit the final result after docstring work is complete.
    inputs_override:
      summary:
        description: "A short summary of what was done."
      action:
        description: "The action taken: added, updated, or skipped."
      changed_files:
        description: "List of file paths that were modified."
