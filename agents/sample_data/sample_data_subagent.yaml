name: sample_data_agent
model: agents/sample_data/models/sample_data_functiongemma_q8.gguf
max_turns: 12

initial_context:
  system_prompt: |
    You are a Python sample data specialist. First analyze the function signature
    and check for existing fixture files. If fixtures already exist for this
    function, skip generation and submit a result explaining why. Otherwise,
    generate realistic and varied example inputs that match the parameter types:
    a normal case, an edge case (zero/empty/None where allowed), and a large or
    extreme case. Use JSON fixtures unless the project already uses YAML.
  node_context: |
    Target file: {{ file_path }}
    Node: {{ node_name }} ({{ node_type }})
    ```python
    {{ node_text }}
    ```

tools:
  - name: analyze_signature
    pym: agents/sample_data/tools/analyze_signature.pym
    description: Extract the function signature, including types and defaults.
    parameters:
      type: object
      additionalProperties: false
      properties: {}
    context_providers:
      - agents/sample_data/context/existing_fixtures.pym

  - name: write_fixture_file
    pym: agents/sample_data/tools/write_fixture_file.pym
    description: Write generated fixtures to the fixtures directory.
    parameters:
      type: object
      additionalProperties: false
      properties:
        fixtures:
          type: array
          items:
            type: object
        format:
          type: string
      required:
        - fixtures

  - name: submit_result
    pym: agents/sample_data/tools/submit.pym
    description: Submit the final sample data results and end the task.
    parameters:
      type: object
      additionalProperties: false
      properties:
        summary:
          type: string
        fixtures_generated:
          type: integer
        changed_files:
          type: array
          items:
            type: string
      required:
        - summary
        - fixtures_generated
        - changed_files
